# 할인 정책 시스템 (Discount Policy System)

## 개요
이 프로젝트는 다양한 고객 유형과 프로모션 코드를 기반으로 할인 정책을 적용하는 간단한 시스템입니다.  
할인 정책은 다음과 같은 비즈니스 로직에 따라 적용됩니다:

- 고객의 등급에 따른 기본 할인
- 구매 금액이 일정 금액 이상일 때 추가 할인
- 프로모션 코드를 사용한 추가 할인

이 시스템에서는 할인된 최종 금액을 계산하며, 전체 할인율은 최대 50%를 넘지 않도록 제한됩니다.

## 시스템 구조
이 시스템은 **도메인 주도 설계(DDD)**를 기반으로 아래와 같은 계층으로 구성되어 있습니다.

- **Domain Layer**: 할인 관련 핵심 비즈니스 로직이 포함된 계층입니다. `Discount`, `CustomerType`, `PromotionCode` 등의 도메인이 여기에 속합니다.
- **Application Layer**: 서비스 계층으로, 애플리케이션의 흐름을 제어하고 도메인 계층의 로직을 호출합니다. `DiscountService`가 이 역할을 수행합니다.

## 비즈니스 로직
1. **고객 등급에 따른 할인**
    - VIP 고객: 20% 할인
    - REGULAR 고객: 10% 할인
    - NEW 고객: 5% 할인

2. **구매 금액에 따른 추가 할인**
    - 구매 금액이 $100 이상일 경우 추가 5% 할인

3. **프로모션 코드 할인**
    - `PROMO10`: 추가 10% 할인
    - `PROMO20`: 추가 20% 할인

4. **할인율 제한**
    - 최대 할인율은 50%를 넘지 않도록 제한됩니다.

## 클래스 설명

### `CustomerType` (Enum)
- 고객의 유형을 정의하는 Enum입니다. 각 고객 유형에 따라 기본 할인이 적용됩니다.
    - `VIP`: 20% 할인
    - `REGULAR`: 10% 할인
    - `NEW`: 5% 할인

### `PromotionCode` (Enum)
- 사용 가능한 프로모션 코드를 정의하는 Enum입니다.
    - `PROMO10`: 추가 10% 할인
    - `PROMO20`: 추가 20% 할인
    - `NONE`: 프로모션 코드가 없는 경우

### `Discount` (Domain)
- 할인 계산을 담당하는 핵심 클래스입니다. 고객의 등급과 구매 금액, 프로모션 코드를 기반으로 최종 할인 금액을 계산합니다.
    - `calculateDiscount()`: 주어진 조건에 따라 최종 할인된 가격을 반환합니다.

### `DiscountService` (Application)
- 애플리케이션 계층에서 할인 계산 비즈니스 로직을 호출하고, 최종 금액을 계산하는 서비스입니다.

## 과제 내용

### 목표
할인 정책 시스템에 대한 테스트 코드를 작성하는 것이 이번 과제의 목표입니다. 테스트 코드는 다양한 고객 유형, 구매 금액, 프로모션 코드에 따른 할인 정책을 검증해야 합니다.

### 요구 사항
1. **JUnit 5**를 사용하여 아래의 상황에 대한 테스트 코드를 작성하세요.
    - 고객 등급별 할인율 적용 확인 (VIP, REGULAR, NEW 고객에 대한 테스트)
    - 구매 금액이 $100 이상일 때 추가 할인이 적용되는지 확인
    - 프로모션 코드가 적용되었을 때 할인율이 올바르게 계산되는지 확인
    - 전체 할인율이 50%를 넘지 않도록 제한되는지 확인
    - 프로모션 코드가 없는 경우에도 시스템이 정상적으로 작동하는지 확인

2. 최소한 아래의 테스트 케이스를 포함해야 합니다:
    - **VIP 고객**이 $200 이상 구매 시 (프로모션 코드 없음)
    - **REGULAR 고객**이 $150 이상 구매 시 `PROMO10` 사용
    - **NEW 고객**이 $120 이상 구매 시 `PROMO20` 사용
    - **VIP 고객**이 $500 구매 시 `PROMO20` 사용 (할인 제한 테스트)
    - **REGULAR 고객**이 $50 구매 시 (프로모션 코드 없음)

### 힌트
- 각 테스트는 `DiscountService`를 통해 이루어집니다.
- 할인율 계산이 복잡하지 않으므로, 각 테스트 케이스에서 기대하는 최종 금액을 미리 계산한 후 이를 검증하세요.
- 최대 할인율(50%) 제한에 대한 테스트는 중요합니다.

### 제출 형식
- 작성한 테스트 코드는 `src/test/java` 경로에 배치하고, JUnit 5 환경에서 정상적으로 실행되어야 합니다.
- 제출 시, `README.md` 파일과 함께 `src/test/java` 폴더 안의 테스트 코드 파일을 포함해야 합니다.

